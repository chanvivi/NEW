<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>聯絡我們｜摯愛花藝</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      integrity="sha512-..."
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="css/contact.css" />
    <link rel="stylesheet" href="css/car.css" />
  </head>
  <body>
    <!-- 第一個部分 導覽列 -->
    <header class="navbar">
      <div class="navbar__logo">
        <a href="index.html">
          <div class="logo">
            <img src="img/index/logo.png" alt="回到首頁" />
          </div>
        </a>
      </div>
      <div class="p">
        <div class="navbar-list">
          <nav class="navbar__links">
            <a href="index.html">首頁</a>
            <a href="product.html">所有商品</a>
            <a href="#" class="unfinished">關於我們</a>
            <a href="contact.html">聯絡我們</a>
          </nav>
          <a class="cart-link" id="cartLink">
            <i class="fa fa-shopping-cart"></i>
            <span id="cart-count" class="cart-count"></span>
          </a>
        </div>
        <!-- 手機漢堡 -->
        <div class="navbar__toggle" id="navbar-toggle">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </header>

    <div class="container">
      <h1>聯絡我們</h1>
      <p class="description">
        若您對商品或訂購流程有任何疑問，歡迎留言給我們，我們會盡快與您聯繫。
      </p>

      <div class="contact-section">
        <!-- 聯絡表單 -->
        <div class="contact-form">
          <form id="myForm">
            <label for="name">姓名</label>
            <input type="text" id="name" name="name" required />
            <span id="name-error" class="error-message"></span>
            <!-- 加入錯誤訊息 -->

            <label for="email"
              >電子信箱
              <span style="color: var(--primary-color)">*</span></label
            >
            <input type="email" id="email" name="email" required />
            <span id="email-error" class="error-message"></span>

            <label for="message">留言內容</label>
            <textarea id="message" name="message" rows="5" required></textarea>

            <button type="submit">送出訊息</button>
          </form>
        </div>

        <!-- 聯絡資訊 -->
        <div class="contact-info">
          <h2>聯絡資訊</h2>
          <p>電話：+886-9xx-xxx-xxx</p>
          <p>地址：403台中市西區林森路100巷</p>
          <p>Email: xxxxx@example.com</p>
          <p class="unfinished2">
            Instagram: <a href="*" target="_blank">@xxxxx</a>
          </p>
          <p>Facebook：Rose Story 花藝</p>

          <!-- 地圖 -->
          <div class="map">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d17319.84315188703!2d120.64781884786592!3d24.134934662183717!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x34693d095d59f337%3A0x3f1324595b71954c!2z5YuV5ryr5b2p57mq5be3!5e0!3m2!1szh-TW!2stw!4v1745479466299!5m2!1szh-TW!2stw"
              width="600"
              height="450"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- 第四個部分 聯絡我們-->
    <footer class="footer">
      <div class="footer__content">
        <div class="footer__brand">
          <h2>摯愛花藝</h2>
          <p>用心選物，傳遞生活的溫度。</p>
        </div>

        <div class="footer__nav">
          <h3>摯愛選購</h3>
          <ul>
            <li class="unfinished"><a href="#">關於我們</a></li>
            <li><a href="product.html">所有商品</a></li>
            <li><a href="contact.html">聯絡我們</a></li>
          </ul>
        </div>
        <div class="footer__txt">
          <h3>服務條款</h3>
          <p>條款及細項</p>
          <p>運送和交付</p>
          <p>隱私策略</p>
          <p>訂製相關問題</p>
        </div>
        <div class="footer__contact">
          <h3>聯絡資訊</h3>
          <p>電話：+886-9xx-xxx-xxx</p>
          <p>地址：403台中市西區林森路100巷</p>
          <p>Email: xxxxx@example.com</p>
          <p class="unfinished2">
            Instagram: <a href="*" target="_blank">@xxxxx</a>
          </p>
          <p>Facebook：Rose Story 花藝</p>
        </div>
      </div>

      <div class="footer__bottom">
        <p>&copy; 2025 品牌名稱 All Rights Reserved.</p>
        <span>本網站為學習用途之作品，無任何商業行為。</span>
      </div>
    </footer>

    <!-- 購物車側邊 -->
    <div id="cartSidebar" class="cart-sidebar">
      <p id="emptyCartMessage" class="empty-message">購物車空囉～</p>
      <ul id="cartItemsList"></ul>

      <template id="cart-item-template">
        <li>
          <div class="cart-item">
            <div class="item-info">
              <img src="" alt="" class="item-img" />
              <strong class="item-name"></strong>
            </div>
            <div class="item-detail">
              <div class="item-detail2">
                <span class="item-qty"></span>
                <span class="item-price"></span>
              </div>
              <button class="delete-btn" data-index="">🗑</button>
            </div>
          </div>
        </li>
      </template>

      <!-- 結帳 -->
      <div class="checkout" id="checkoutNo">
        <a href="checkout.html"
          ><button class="checkout-btn" id="checkoutBtn">結帳</button></a
        >
      </div>
    </div>

    <!----------共用 檔案 ----------->
    <script src="js/common/menu.js"></script>
    <script src="js/common/updateCartCount.js"></script>
    <!-- 購物車功能 -->
    <script src="js/common/cart.js" defer></script>

    <!----------特定 檔案 ----------->
    <script src="js/unfinished.js"></script>
    <script>
      document
        .getElementById('myForm')
        .addEventListener('submit', function (event) {
          event.preventDefault(); // 防止表單提交

          // 清除舊的錯誤訊息
          const errorMessages = document.querySelectorAll('.error-message');
          errorMessages.forEach(msg => (msg.textContent = ''));
          const inputs = document.querySelectorAll('input');
          inputs.forEach(input => input.classList.remove('input-error'));

          let formIsValid = true;

          // 電子郵件欄位驗證
          const emailInput = document.getElementById('email');
          const emailPattern =
            /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
          if (!emailInput.value.trim()) {
            formIsValid = false;
            document.getElementById('email-error').textContent =
              '電子郵件是必填的！';
            emailInput.classList.add('input-error');
          } else if (!emailPattern.test(emailInput.value)) {
            formIsValid = false;
            document.getElementById('email-error').textContent =
              '請輸入有效的電子郵件地址！';
            emailInput.classList.add('input-error');
          }

          // 如果所有欄位都正確，則提交表單
          if (formIsValid) {
            alert('表單提交成功！');
            setTimeout(() => {
              event.target.submit(); // 使用原始 event 物件來避免錯誤
            }, 100); // 延遲一點點再送出，讓 alert 顯示出來
          }
        });
    </script>
  </body>
</html>
